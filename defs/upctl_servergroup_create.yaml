#--------------------------------------------------------------------------------------------------------------
# Autogenerated by SmarterGen - do not modify this file.
#--------------------------------------------------------------------------------------------------------------
# Create a server group
# 
# Usage:
# upctl servergroup create [flags]
# 
# Examples:
# upctl servergroup create \
# 				--title my-server-group \
# 				--anti-affinity-policy yes \
# 				--server 1fdfda29-ead1-4855-b71f-a432179800ab \
# 				--server my-server
# upctl servergroup create \
# 				--title my-server-group \
# 				--anti-affinity-policy yes \
# 				--label env=dev
# upctl servergroup create \
# 				--title my-server-group \
# 				--anti-affinity-policy strict \
# 				--label env=dev \
# 				--label owner=operations
# 
# Options:
#   --title string                  Server group title.                                                                                 
#                                                                                                                                   
#   --anti-affinity-policy string   Anti-affinity policy. Valid values are `yes` (best effort), `strict` and `no`. Will take effect upon
#                                   server start.                                                                                       
#                                   Default: yes                                                                                        
#                                                                                                                                   
#   --label stringArray             Labels to describe the server group in `key=value` format, multiple can be declared. Usage: --label 
#                                   env=dev                                                                                             
#                                                                                                                                       
#                                   --label owner=operations                                                                            
#                                                                                                                                   
#   --server stringArray            Servers to be added to the server group, multiple can be declared. Usage: --server my-server        
#                                                                                                                                       
#                                   --server 00333d1b-3a4a-4b75-820a-4a56d70395dd                                                       
# 
# Global Options:
#   -t, --client-timeout duration   Client timeout to use in API calls.                                                                 
#                                   Default: 0s                                                                                         
#                                                                                                                                   
#   --config string                 Configuration file path.                                                                            
#                                                                                                                                   
#   --debug bool                    Print out more verbose debug logs.                                                                  
#                                   Default: false                                                                                      
#                                                                                                                                   
#   --force-colours                 Force coloured output despite detected terminal support.                                            
#                                                                                                                                   
#   --no-colours                    Disable coloured output despite detected terminal support. Colours can also be disabled by setting  
#                                   NO_COLOR environment variable.                                                                      
#                                                                                                                                   
#   -o, --output string             Output format (supported: json, yaml and human)                                                     
#                                   Default: human                                                                                      
#
type: layout-form
header:
  - type: header
    title: Create Server Group
    logo: icon.webp
form:
  - type: fieldset
    subitems:
      - type: row
        subitems:
          - type: textfield
            name: Title
            produces:
              - variable: title
      - type: row
        subitems:
          - type: dropdown
            name: Anti-affinity Policy
            items: ['yes', 'strict', 'no']
            produces:
              - variable: anti_affinity_policy
      - $include: __upctl_server_list_selector.yaml

      - type: 'action-row'
        id: create-container-instance
        name: Create Server Group
        consumes:
          - variable: title
          - variable: anti_affinity_policy
          - variable: server
        verify: |
            upctl servergroup show ${title}
        install: upctl servergroup create --title ${title} --anti-affinity-policy ${anti_affinity_policy} --server ${server}
        uninstall: upctl servergroup delete ${title}

footer:
  - type: footer
    id: footer
    subitems:
      - type: button
        id: install_button
        text: Create
