type: layout-form
id: root
form:
  #
  # Azure CLI
  #
  - type: fieldset
    platform: win32
    subitems:
      - type: text-block
        width: wide
        font: header-1
        content: Prerequisites
      - type: separator
      - $include: __git_install_step.yaml
      - $include: __gh_install_step.yaml
      - type: 'action-row'
        platform: win32
        id: install-azure-cli
        name: Install Azure CLI
        banner: |
            Installing Azure CLI. Azure CLI will be used by
            this extension to access Azure
        verify: az --version
        install: | 
                winget install -e --id Microsoft.AzureCLI
                $env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
      - type: 'action-row'
        name: Login
        banner: |
            Login to Azure
        verify: az account show
        install: | 
                az login
        interactive: true

footer:
  - type: footer
    id: footer
    subitems:
      - type: button
        id: install_button
        codicon: run-all
